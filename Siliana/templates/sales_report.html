{% extends 'base.html' %}

{% block title %}ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª - Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹{% endblock %}

{% block content %}
<h2 style="color: #667eea; text-align: center; margin-bottom: 20px;">ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h2>

<form method="get" style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
    <div class="form-group" style="text-align: right;">
        <label for="date_debut">Ù…Ù† ØªØ§Ø±ÙŠØ®</label>
        <input type="date" id="date_debut" name="date_debut" value="{{ date_debut }}">
    </div>
    
    <div class="form-group" style="text-align: right;">
        <label for="date_fin">Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®</label>
        <input type="date" id="date_fin" name="date_fin" value="{{ date_fin }}">
    </div>
    
    <button type="submit" class="btn">ğŸ” Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
</form>

{% if ventes %}
<div class="card" style="background: #d4edda; border-left-color: #28a745; margin-bottom: 20px;">
    <h3 style="color: #28a745;">ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</h3>
    <p style="font-size: 28px; font-weight: bold; color: #155724;">{{ total|floatformat:2 }} Ø¯.Øª</p>
    <p style="color: #155724;"><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª:</strong> {{ ventes|length }}</p>
</div>

<h3 style="color: #667eea; margin-bottom: 15px;">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h3>

{% for vente in ventes %}
<div class="card">
    <h3>{{ vente.produit.nom }}</h3>
    <p><strong>Ø§Ù„ÙƒÙ…ÙŠØ©:</strong> {{ vente.quantite }} Ù‚Ø·Ø¹Ø©</p>
    <p><strong>Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©:</strong> {{ vente.produit.prix_vente }} Ø¯.Øª</p>
    <p><strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</strong> {{ vente.total|floatformat:2 }} Ø¯.Øª</p>
    <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> {{ vente.date_vente|date:"Y-m-d" }}</p>
</div>
{% endfor %}

{% else %}
<div class="alert alert-warning">
    {% if date_debut or date_fin %}
    Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨ÙŠØ¹Ø§Øª ÙÙŠ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©.
    {% else %}
    Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨ÙŠØ¹Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.
    {% endif %}
</div>
{% endif %}
{% endblock %}
